"use strict";exports.id=581,exports.ids=[581],exports.modules={26581:(a,b,c)=>{c.d(b,{detectKeylessEnvDrift:()=>h});var d=c(91973),e=c(96380),f=c(21327);let g="KEYLESS_ENV_DRIFT_DETECTED";async function h(){var a,b;if(d.I&&"undefined"==typeof window)try{let{safeParseClerkFile:h}=await c.e(70).then(c.bind(c,36689)),i=h();if(!i)return;let j=process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY,k=process.env.CLERK_SECRET_KEY,l=!!(j||k),m=!!((null==i?void 0:i.publishableKey)&&(null==i?void 0:i.secretKey)),n=!j&&!k;if(!l&&!m||n&&m||!m||!l)return;let o=!!(j&&i.publishableKey&&j===i.publishableKey),p=!!(k&&i.secretKey&&k===i.secretKey);if(!(j&&i.publishableKey&&!o||k&&i.secretKey&&!p))return;let q={publicKeyMatch:o,secretKeyMatch:p,envVarsMissing:n,keylessFileHasKeys:m,keylessPublishableKey:null!=(a=i.publishableKey)?a:"",envPublishableKey:null!=j?j:""},r=(0,e.n)({publishableKey:i.publishableKey,secretKey:i.secretKey,telemetry:{samplingRate:1}});(function(){try{if(!d.I)return!1;{let{mkdirSync:a,writeFileSync:b}=(0,f.p8)(),c=(0,f.dc)(),d=(0,f.dc)().join(process.cwd(),".clerk/.tmp/telemetry.json"),e=c.dirname(d);a(e,{recursive:!0});let h={firedAt:new Date().toISOString(),event:g};return b(d,JSON.stringify(h,null,2),{flag:"wx"}),!0}}catch(a){if((null==a?void 0:a.code)==="EEXIST")return!1;return console.warn("Failed to create telemetry flag file:",a),!1}})()&&(null==(b=r.telemetry)||b.record({event:g,eventSamplingRate:1,payload:q}))}catch(a){console.warn("Failed to detect keyless environment drift:",a)}}}};